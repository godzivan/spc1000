                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.4.0 #8981 (Apr  5 2014) (MINGW64)
                              4 ; This file was generated Tue May 05 16:48:48 2015
                              5 ;--------------------------------------------------------
                              6 	.module iocs
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _getchar
                             13 	.globl _putchar
                             14 	.globl _cas_load
                             15 	.globl _cas_save
                             16 ;--------------------------------------------------------
                             17 ; special function registers
                             18 ;--------------------------------------------------------
                     0000    19 _ioport	=	0x0000
                             20 ;--------------------------------------------------------
                             21 ; ram data
                             22 ;--------------------------------------------------------
                             23 	.area _DATA
   0000                      24 _io_val:
   0000                      25 	.ds 1
                             26 ;--------------------------------------------------------
                             27 ; ram data
                             28 ;--------------------------------------------------------
                             29 	.area _INITIALIZED
                             30 ;--------------------------------------------------------
                             31 ; absolute external ram data
                             32 ;--------------------------------------------------------
                             33 	.area _DABS (ABS)
                             34 ;--------------------------------------------------------
                             35 ; global & static initialisations
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _GSINIT
                             39 	.area _GSFINAL
                             40 	.area _GSINIT
                             41 ;--------------------------------------------------------
                             42 ; Home
                             43 ;--------------------------------------------------------
                             44 	.area _HOME
                             45 	.area _HOME
                             46 ;--------------------------------------------------------
                             47 ; code
                             48 ;--------------------------------------------------------
                             49 	.area _CODE
                             50 ;iocs.c:5: void putchar(unsigned char c) 
                             51 ;	---------------------------------
                             52 ; Function putchar
                             53 ; ---------------------------------
   0000                      54 _putchar_start::
   0000                      55 _putchar:
                             56 ;iocs.c:17: __endasm;
   0000 21 02 00      [10]   57 	ld hl,#2
   0003 39            [11]   58 	add hl,sp
   0004 7E            [ 7]   59 	ld a, (hl)
   0005 FE 0A         [ 7]   60 	cp #0x0a
   0007 20 02         [12]   61 	jr nz, next
   0009 3E 0D         [ 7]   62 	ld a, #0x0d
   000B                      63 	next:
   000B CD 64 08      [17]   64 	call 0x0864
   000E C9            [10]   65 	ret
   000F                      66 _putchar_end::
                             67 ;iocs.c:20: char getchar()
                             68 ;	---------------------------------
                             69 ; Function getchar
                             70 ; ---------------------------------
   000F                      71 _getchar_start::
   000F                      72 _getchar:
                             73 ;iocs.c:25: __endasm;
   000F CD 62 0C      [17]   74 	call 0x0c62
   0012 32r00r00      [13]   75 	ld (_io_val), a
                             76 ;iocs.c:26: return io_val;
   0015 FD 21r00r00   [14]   77 	ld	iy,#_io_val
   0019 FD 6E 00      [19]   78 	ld	l,0 (iy)
   001C C9            [10]   79 	ret
   001D                      80 _getchar_end::
                             81 ;iocs.c:29: char cas_load(unsigned char *data, int len)
                             82 ;	---------------------------------
                             83 ; Function cas_load
                             84 ; ---------------------------------
   001D                      85 _cas_load_start::
   001D                      86 _cas_load:
                             87 ;iocs.c:46: __endasm;
   001D DD E5         [15]   88 	push ix
   001F DD 21 04 00   [14]   89 	ld ix,#4
   0023 DD 39         [15]   90 	add ix,sp
   0025 DD 6E 00      [19]   91 	ld l,(ix)
   0028 DD 66 01      [19]   92 	ld h,1(ix)
   002B 22 AA 13      [16]   93 	ld (0x13aa), hl
   002E DD 6E 02      [19]   94 	ld l,2(ix)
   0031 DD 66 03      [19]   95 	ld h,3(ix)
   0034 22 A8 13      [16]   96 	ld (0x13a8), hl
   0037 CD 34 01      [17]   97 	call 0x0134
   003A 32r00r00      [13]   98 	ld (_io_val), a
   003D DD E1         [14]   99 	pop ix
                            100 ;iocs.c:47: return io_val;
   003F FD 21r00r00   [14]  101 	ld	iy,#_io_val
   0043 FD 6E 00      [19]  102 	ld	l,0 (iy)
   0046 C9            [10]  103 	ret
   0047                     104 _cas_load_end::
                            105 ;iocs.c:50: void cas_save(unsigned char *data, int len)
                            106 ;	---------------------------------
                            107 ; Function cas_save
                            108 ; ---------------------------------
   0047                     109 _cas_save_start::
   0047                     110 _cas_save:
                            111 ;iocs.c:66: __endasm;
   0047 DD E5         [15]  112 	push ix
   0049 DD 21 04 00   [14]  113 	ld ix,#4
   004D DD 39         [15]  114 	add ix,sp
   004F DD 6E 00      [19]  115 	ld l,(ix)
   0052 DD 66 01      [19]  116 	ld h,1(ix)
   0055 22 AA 13      [16]  117 	ld (0x13aa), hl
   0058 DD 6E 02      [19]  118 	ld l,2(ix)
   005B DD 66 03      [19]  119 	ld h,3(ix)
   005E 22 A8 13      [16]  120 	ld (0x13a8), hl
   0061 CD B6 00      [17]  121 	call 0x00b6
   0064 DD E1         [14]  122 	pop ix
                            123 ;iocs.c:67: return;	
   0066 C9            [10]  124 	ret
   0067                     125 _cas_save_end::
                            126 	.area _CODE
                            127 	.area _INITIALIZER
                            128 	.area _CABS (ABS)
